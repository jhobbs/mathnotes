{% extends "base.html" %}

{% block title %}{{ page_title }}{% endblock %}

{% block header_title %}lacunary - {{ index_title }}{% endblock %}
{% block header_link %}{{ url_for('mathnotes_index') }}{% endblock %}

{% block body_class %}block-index-page{% endblock %}

{% block description %}{{ page_description }}{% endblock %}

{% block content %}
<div class="block-index-container">
    <h2>{{ index_title }}</h2>
    <p class="index-description">
        {{ index_description }}
    </p>
    
    {% if blocks %}
        <div class="block-count">
            Found {{ blocks|length }} {{ item_type }}{{ 's' if blocks|length != 1 else '' }}
        </div>
        
        <div class="blocks-list">
            {% for item in blocks %}
                <div class="embedded-block" data-embed-label="{{ item.block.block.label }}">
                    {{ item.block.block.rendered_html|safe }}
                    <div class="embedded-source">from <a href="{{ item.block.full_url }}">{{ item.block.page_title }}</a></div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-items">{{ no_items_message }}</p>
    {% endif %}
</div>
{% endblock %}
