{% extends "base.html" %}

{% block title %}Definition Index - {{ config.SITE_TITLE }}{% endblock %}

{% block header_title %}lacunary - Definition Index{% endblock %}
{% block header_link %}{{ url_for('mathnotes_index') }}{% endblock %}

{% block body_class %}definition-index-page{% endblock %}

{% block description %}Index of all mathematical definitions across the site{% endblock %}

{% block content %}
<div class="definition-index-container">
    <h2>Definition Index</h2>
    <p class="index-description">
        This page lists all mathematical definitions found across the site. 
        Click on any definition to jump to its location in the notes.
    </p>
    
    {% if definitions %}
        <div class="definition-count">
            Found {{ definitions|length }} definition{{ 's' if definitions|length != 1 else '' }}
        </div>
        
        <div class="definitions-list">
            {% for ref in definitions %}
                <div class="embedded-block" data-embed-label="{{ ref.block.label }}">
                    {{ ref.block.rendered_html|safe }}
                    <div class="embedded-source">from <a href="{{ ref.full_url }}">{{ ref.page_title }}</a></div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-definitions">No definitions found in the index.</p>
    {% endif %}
</div>
{% endblock %}