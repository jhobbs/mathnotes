/* Modern theme system using CSS custom properties and modern color spaces */
:root {
  /* Color palette using modern color functions */
  --color-primary-hsl: 211 100% 50%;
  --color-primary: hsl(var(--color-primary-hsl));
  --color-primary-light: hsl(var(--color-primary-hsl) / 0.1);
  --color-primary-dark: hsl(211 100% 40%);
  
  /* Test HMR - temporary accent color */
  --color-accent: oklch(70% 0.2 30);
  
  /* Semantic colors */
  --color-bg: #fafafa;
  --color-bg-secondary: #ffffff;
  --color-text: #333333;
  --color-text-secondary: #6a737d;
  --color-heading: #333333;
  --color-link: var(--color-primary);
  --color-border: #e1e4e8;
  --color-code-bg: #f6f8fa;
  
  /* Math block colors using oklch for better perceptual uniformity */
  --color-definition: oklch(56% 0.13 252);
  --color-theorem: oklch(60% 0.15 142);
  --color-lemma: oklch(58% 0.14 241);
  --color-proposition: oklch(62% 0.12 230);
  --color-corollary: oklch(54% 0.08 250);
  --color-proof: oklch(40% 0.05 250);
  --color-example: oklch(55% 0.13 150);
  --color-remark: oklch(50% 0.06 250);
  
  /* Spacing scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Typography scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 2rem;
  
  /* Line heights */
  --line-height-tight: 1.25;
  --line-height-base: 1.6;
  --line-height-relaxed: 1.8;
  
  /* Border radius */
  --radius-sm: 3px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-full: 9999px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
  
  /* Z-index scale */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-overlay: 300;
  --z-modal: 400;
  --z-tooltip: 500;
}

/* Dark theme */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #0d1117;
    --color-bg-secondary: #0d1117;
    --color-text: #c9d1d9;
    --color-text-secondary: #8b949e;
    --color-heading: #f0f6fc;
    --color-link: #58a6ff;
    --color-border: #30363d;
    --color-code-bg: #161b22;
    
    /* Adjusted math colors for dark mode */
    --color-definition: oklch(65% 0.13 252);
    --color-theorem: oklch(68% 0.15 142);
    --color-lemma: oklch(66% 0.14 241);
    --color-proposition: oklch(70% 0.12 230);
    --color-corollary: oklch(62% 0.08 250);
    --color-proof: oklch(55% 0.05 250);
    --color-example: oklch(63% 0.13 150);
    --color-remark: oklch(60% 0.06 250);
    
    /* Darker shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5);
  }
}

/* Utility classes for theme values */
.theme-primary { color: var(--color-primary); }
.theme-bg-primary { background-color: var(--color-primary); }
.theme-border-primary { border-color: var(--color-primary); }